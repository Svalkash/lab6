
Структурировано всё ужасно, файлы 'c' включаются как есть...
Я забыл, как компилить кучу файлов сразу, а мне надо было ОЧЕНЬ быстро всё проверить.
Я потом могу потом привести в порядок.
Например, 6s_m_file.c - по сути, часть 6s_m.c, выделенная в отдельный файл,
чтоб не получалась длинная штука на тысячи строк. Читать неудобно.

Я сделал красивый макрос для вывода ошибок,
но мне лень сразу засорять этим код вообще в КАЖДОЙ функции, которая может вылететь.
Я потом добавлю, если необходимо.

Блокировка сигнала SIGHUP на время "активных действий"...
из-за текущей архитектуры придётся каждый раз давать сигнал мастеру
в момент "начала" этих действий. Неудобно.
Я пока сделал только блокировку на время использования порта и лог-файла - тех вещей,
на которые этот самый конфиг вообще влияет.

При получении SIGHUP должен сразу меняться номер порта сервера.
Получается, все подключения надо уронить.
Можно попытаться сохранить состояние игры, потом попытаться определить БЫВШИХ игроков
при попытке переподключения по их адресам и пустить их обратно... сложно.
Пока просто роняю всю игру целиком и отключаю всех.

Поскольку определять, насколько "запущен" сервер - та ещё возня,
SIGHUP "правильно" обрабатывается только после инициализации.
SIGTERM тоже, наверное - не надо убивать сервер до его старта.

Пишет в файл только мастер. Поначалу думал сделать "разделённый" дескриптор
с семафором, но возник нюанс - теперь нужно блокировать SIGHUP во время любых
операций записи на любом воркере, да и после SIGHUP нужно это обновление как-то
распространять. Реализуемо, но сложно.

p1_sock, p2_sock...
Да, было бы правильнее сделать просто массивы из 2х элементов и нумеровать игроков как 0-1.
Но я уже много написал, а менять лень. Да и понятнее как-то, что происходит в коде.